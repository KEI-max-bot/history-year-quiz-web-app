<!-- OPENSPEC:START -->
# OpenSpec Instructions

These instructions are for AI assistants working in this project.

Always open `@/openspec/AGENTS.md` when the request:
- Mentions planning or proposals (words like proposal, spec, change, plan)
- Introduces new capabilities, breaking changes, architecture shifts, or big performance/security work
- Sounds ambiguous and you need the authoritative spec before coding

Use `@/openspec/AGENTS.md` to learn:
- How to create and apply change proposals
- Spec format and conventions
- Project structure and guidelines

Keep this managed block so 'openspec update' can refresh the instructions.

<!-- OPENSPEC:END -->

## é–‹ç™ºãƒ•ãƒ­ãƒ¼

### ä»•æ§˜é§†å‹•é–‹ç™ºï¼ˆOpenSpecï¼‰

æ–°æ©Ÿèƒ½ã®è¿½åŠ ãƒ»å¤‰æ›´æ™‚ã¯ä»¥ä¸‹ã®ãƒ•ãƒ­ãƒ¼ã«å¾“ã†ï¼š

1. **ãƒ–ãƒ©ãƒ³ãƒä½œæˆ**: `feature/æ©Ÿèƒ½å` ã§ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ
2. **Proposalä½œæˆ**: `openspec/changes/æ©Ÿèƒ½å/proposal.md` ã«å¤‰æ›´ã®ç›®çš„ã‚’è¨˜è¼‰
   - âš ï¸ **ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ‰¿èªãŒå¿…é ˆ**
3. **Designä½œæˆ**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨å¯¾è©±ã—ãªãŒã‚‰ `design.md` ã§æŠ€è¡“è¨­è¨ˆã‚’åˆæ„
   - âš ï¸ **ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ‰¿èªãŒå¿…é ˆ**
4. **Tasksä½œæˆ**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨å¯¾è©±ã—ãªãŒã‚‰ `tasks.md` ã§å®Ÿè£…ã‚¿ã‚¹ã‚¯ã‚’åˆæ„
   - âš ï¸ **ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ‰¿èªãŒå¿…é ˆ**
5. **å®Ÿè£…**: tasks.mdã®ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆã«æ²¿ã£ã¦å®Ÿè£…
6. **Specæ›´æ–°**: å®Œäº†å¾Œã€`openspec/specs/` ã®ä»•æ§˜æ›¸ã‚’æ›´æ–°
7. **ãƒãƒ¼ã‚¸**: PRã‚’ä½œæˆã—ã¦mainã«ãƒãƒ¼ã‚¸

### é‡è¦ãƒ«ãƒ¼ãƒ«

- **proposal.mdã€design.mdã€tasks.md ã¯ã™ã¹ã¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨ã®åˆæ„ãŒå¿…é ˆ**
- åˆæ„å‰ã«å®Ÿè£…ã‚’é–‹å§‹ã—ãªã„
- å„ã‚¹ãƒ†ãƒƒãƒ—ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ç¢ºèªã‚’å–ã‚Šã€æ‰¿èªã‚’å¾—ã¦ã‹ã‚‰æ¬¡ã«é€²ã‚€

## ãƒ–ãƒ©ãƒ³ãƒå‘½åè¦å‰‡

| ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ | ç”¨é€” | ä¾‹ |
|----------------|------|-----|
| `feature/` | æ–°æ©Ÿèƒ½è¿½åŠ  | `feature/xss-fix` |
| `fix/` | ãƒã‚°ä¿®æ­£ | `fix/bc-input-validation` |
| `docs/` | ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–° | `docs/readme-update` |
| `refactor/` | ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚° | `refactor/split-modules` |
| `style/` | ã‚¹ã‚¿ã‚¤ãƒ«å¤‰æ›´ã®ã¿ | `style/dark-mode` |
| `test/` | ãƒ†ã‚¹ãƒˆè¿½åŠ ãƒ»ä¿®æ­£ | `test/quiz-unit-tests` |

### å‘½åãƒ«ãƒ¼ãƒ«

- å°æ–‡å­—ã®ã¿ï¼ˆå¤§æ–‡å­—ç¦æ­¢ï¼‰
- å˜èªåŒºåˆ‡ã‚Šã¯ãƒã‚¤ãƒ•ãƒ³ï¼ˆ`-`ï¼‰
- æ—¥æœ¬èªç¦æ­¢ï¼ˆè‹±èªã®ã¿ï¼‰
- çŸ­ãæ˜ç¢ºã«

## Pull Request ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ

PRã‚’ä½œæˆã™ã‚‹éš›ã¯ä»¥ä¸‹ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã«å¾“ã†ï¼š

```markdown
## Summary
[å¤‰æ›´å†…å®¹ã‚’1-3è¡Œã§ç°¡æ½”ã«èª¬æ˜]

## Changes
- [å¤‰æ›´ç‚¹1]
- [å¤‰æ›´ç‚¹2]
- [å¤‰æ›´ç‚¹3]

## Related Spec
- openspec/changes/[æ©Ÿèƒ½å]/proposal.md
- openspec/changes/[æ©Ÿèƒ½å]/design.md
- openspec/changes/[æ©Ÿèƒ½å]/tasks.md

## Test Plan
- [ ] [ãƒ†ã‚¹ãƒˆé …ç›®1]
- [ ] [ãƒ†ã‚¹ãƒˆé …ç›®2]

---
ğŸ¤– Generated with [Claude Code](https://claude.com/claude-code)
```

### ã‚«ã‚¹ã‚¿ãƒ ã‚³ãƒãƒ³ãƒ‰

- `/create-pr` - ä¸Šè¨˜ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã§PRã‚’ä½œæˆ

## ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¦å‰‡

ä»¥ä¸‹ã®ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ã‚’ä½¿ç”¨ã™ã‚‹ï¼š

| ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ | ç”¨é€” | ä¾‹ |
|----------------|------|-----|
| `feat:` | æ–°æ©Ÿèƒ½è¿½åŠ  | `feat: Local Storageå¯¾å¿œã‚’è¿½åŠ ` |
| `fix:` | ãƒã‚°ä¿®æ­£ | `fix: ç´€å…ƒå‰ã®å…¥åŠ›åˆ¤å®šã‚’ä¿®æ­£` |
| `docs:` | ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–° | `docs: READMEã‚’æ›´æ–°` |
| `refactor:` | ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚° | `refactor: DOMæ“ä½œã‚’æœ€é©åŒ–` |
| `style:` | ã‚¹ã‚¿ã‚¤ãƒ«å¤‰æ›´ | `style: ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ã‚’è¿½åŠ ` |
| `test:` | ãƒ†ã‚¹ãƒˆè¿½åŠ ãƒ»ä¿®æ­£ | `test: ã‚¯ã‚¤ã‚ºæ©Ÿèƒ½ã®ãƒ†ã‚¹ãƒˆã‚’è¿½åŠ ` |
| `chore:` | é›‘å‹™ï¼ˆãƒ“ãƒ«ãƒ‰è¨­å®šç­‰ï¼‰ | `chore: package.jsonã‚’æ›´æ–°` |

### ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ãƒ«ãƒ¼ãƒ«

- ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ã¯å°æ–‡å­—
- ã‚³ãƒ­ãƒ³ã®å¾Œã«ã‚¹ãƒšãƒ¼ã‚¹
- æœ¬æ–‡ã¯æ—¥æœ¬èªOK
- 1è¡Œç›®ã¯50æ–‡å­—ä»¥å†…ã‚’ç›®å®‰
- è¤‡æ•°è¡Œã®å ´åˆã¯ç©ºè¡Œã‚’æŒŸã‚€

## ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

PRæ‰¿èªå‰ã«ä»¥ä¸‹ã‚’ç¢ºèªã™ã‚‹ï¼š

### æ©Ÿèƒ½é¢
- [ ] ä»•æ§˜ï¼ˆproposal.md/design.mdï¼‰é€šã‚Šã«å®Ÿè£…ã•ã‚Œã¦ã„ã‚‹ã‹
- [ ] tasks.mdã®å…¨ã‚¿ã‚¹ã‚¯ãŒå®Œäº†ã—ã¦ã„ã‚‹ã‹
- [ ] ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ãŒè€ƒæ…®ã•ã‚Œã¦ã„ã‚‹ã‹

### ã‚³ãƒ¼ãƒ‰å“è³ª
- [ ] ä¸è¦ãªconsole.logãŒæ®‹ã£ã¦ã„ãªã„ã‹
- [ ] ã‚³ãƒ¡ãƒ³ãƒˆã¯é©åˆ‡ã‹ï¼ˆéä¸è¶³ãªã—ï¼‰
- [ ] å‘½åã¯æ˜ç¢ºã‹

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£
- [ ] XSSè„†å¼±æ€§ãŒãªã„ã‹ï¼ˆinnerHTMLä½¿ç”¨ç®‡æ‰€ï¼‰
- [ ] ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã¯é©åˆ‡ã‹

### ãƒ†ã‚¹ãƒˆ
- [ ] å‹•ä½œç¢ºèªã‚’è¡Œã£ãŸã‹
- [ ] è¤‡æ•°ãƒ–ãƒ©ã‚¦ã‚¶ã§ç¢ºèªã—ãŸã‹ï¼ˆå¿…è¦ãªå ´åˆï¼‰

---

## ãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆ

```
å¹´å·V6/
â”œâ”€â”€ index.html          # ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆç”¨ï¼ˆâ†’ app/index.htmlï¼‰
â”œâ”€â”€ CLAUDE.md           # AIå‘ã‘é–‹ç™ºãƒ«ãƒ¼ãƒ«
â”œâ”€â”€ README.md           # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆèª¬æ˜
â”œâ”€â”€ AGENTS.md           # OpenSpecã‚¨ã‚¤ãƒªã‚¢ã‚¹
â”‚
â”œâ”€â”€ app/                # ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³æœ¬ä½“
â”‚   â”œâ”€â”€ index.html      # ãƒ¡ã‚¤ãƒ³HTML
â”‚   â”œâ”€â”€ style.css       # ã‚¹ã‚¿ã‚¤ãƒ«ã‚·ãƒ¼ãƒˆ
â”‚   â”œâ”€â”€ src/            # JavaScriptã‚³ãƒ¼ãƒ‰
â”‚   â”‚   â”œâ”€â”€ app.js      # ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ state.js    # çŠ¶æ…‹ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ storage.js  # Local Storageæ“ä½œ
â”‚   â”‚   â”œâ”€â”€ ui.js       # UIæ“ä½œãƒ»ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
â”‚   â”‚   â”œâ”€â”€ quiz.js     # ã‚¯ã‚¤ã‚ºæ©Ÿèƒ½
â”‚   â”‚   â””â”€â”€ utils.js    # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°
â”‚   â””â”€â”€ data/           # ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«
â”‚       â””â”€â”€ sekaishi.js # ä¸–ç•Œå²å¹´å·ãƒ‡ãƒ¼ã‚¿
â”‚
â”œâ”€â”€ openspec/           # ä»•æ§˜é§†å‹•é–‹ç™ºãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ AGENTS.md       # OpenSpecè¨­å®š
â”‚   â”œâ”€â”€ project.md      # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦
â”‚   â”œâ”€â”€ specs/          # ä»•æ§˜æ›¸
â”‚   â”‚   â”œâ”€â”€ test-spec.md
â”‚   â”‚   â”œâ”€â”€ ui-spec.md      # UI/UXè¨­è¨ˆæ–¹é‡
â”‚   â”‚   â”œâ”€â”€ data/spec.md
â”‚   â”‚   â”œâ”€â”€ quiz/spec.md
â”‚   â”‚   â””â”€â”€ storage/spec.md
â”‚   â”œâ”€â”€ changes/        # é€²è¡Œä¸­ã®å¤‰æ›´ææ¡ˆ
â”‚   â””â”€â”€ archive/        # å®Œäº†ã—ãŸå¤‰æ›´ææ¡ˆ
â”‚
â”œâ”€â”€ .claude/            # Claude Codeè¨­å®š
â”‚   â”œâ”€â”€ settings.local.json
â”‚   â””â”€â”€ commands/       # ã‚«ã‚¹ã‚¿ãƒ ã‚³ãƒãƒ³ãƒ‰
â”‚       â”œâ”€â”€ create-pr.md
â”‚       â””â”€â”€ openspec/   # OpenSpecã‚³ãƒãƒ³ãƒ‰
â”‚
â””â”€â”€ .github/            # GitHubè¨­å®š
    â””â”€â”€ copilot-instructions.md
```

### app/src/ ãƒ•ã‚¡ã‚¤ãƒ«ã®å½¹å‰²

| ãƒ•ã‚¡ã‚¤ãƒ« | å½¹å‰² |
|----------|------|
| `app.js` | èµ·å‹•å‡¦ç†ã€UIã‚¤ãƒ™ãƒ³ãƒˆç™»éŒ²ã€ãƒ‡ãƒ¼ã‚¿è¿½åŠ  |
| `state.js` | ã‚¢ãƒ—ãƒªçŠ¶æ…‹ã®ç®¡ç†ã€å®šæ•°å®šç¾© |
| `storage.js` | Local Storageã®èª­ã¿æ›¸ã |
| `ui.js` | ãƒ¢ãƒ¼ãƒ‰åˆ‡æ›¿ã€ä¸€è¦§æç”»ã€ã‚°ãƒ«ãƒ¼ãƒ—å±•é–‹ |
| `quiz.js` | ã‚¯ã‚¤ã‚ºé–‹å§‹ãƒ»å›ç­”ãƒ»çµ‚äº†ã®å‡¦ç† |
| `utils.js` | DOMæ“ä½œã€å¹´å·ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã€ã‚·ãƒ£ãƒƒãƒ•ãƒ«ç­‰ |

### èª­ã¿è¾¼ã¿é †åºï¼ˆindex.htmlï¼‰

```html
<script src="data/sekaishi.js"></script>
<script src="src/utils.js"></script>
<script src="src/state.js"></script>
<script src="src/storage.js"></script>
<script src="src/ui.js"></script>
<script src="src/quiz.js"></script>
<script src="src/app.js"></script>
```