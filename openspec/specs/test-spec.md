# テスト仕様書

## 入力モード

### データ追加
| 操作 | 期待される動作 |
|------|---------------|
| 年号欄に「1789」、出来事欄に「フランス革命」を入力し「+ 年号を追加」ボタンをクリック | 世紀別・カテゴリ別の一覧に追加される |
| 年号欄を空のまま「+ 年号を追加」ボタンをクリック | 「年号と出来事を入力してください。」アラートが表示される |
| 出来事欄を空のまま「+ 年号を追加」ボタンをクリック | 「年号と出来事を入力してください。」アラートが表示される |
| 年号欄でEnterキーを押す | データが追加される |
| 出来事欄でEnterキーを押す | データが追加される |

### データ削除
| 操作 | 期待される動作 |
|------|---------------|
| ユーザー追加データの「削除」ボタンをクリック | 確認ダイアログが表示される |
| 確認ダイアログで「OK」をクリック | データが一覧から削除される |
| 確認ダイアログで「キャンセル」をクリック | データは削除されない |
| 初期データ（data.jsのデータ） | 削除ボタンが表示されない |

### 一覧表示
| 操作 | 期待される動作 |
|------|---------------|
| 「世紀別」タブをクリック | 世紀ごとにグループ化された一覧が表示される |
| 「カテゴリ別」タブをクリック | カテゴリごとにグループ化された一覧が表示される |
| グループヘッダーをクリック | グループが展開/折りたたまれる |
| 紀元前のデータを追加 | 「紀元前」グループに表示される |

## クイズモード

### クイズ開始
| 操作 | 期待される動作 |
|------|---------------|
| カテゴリ「全て」を選択し「▶ クイズを始める」をクリック | 全カテゴリからランダムに出題される |
| 特定カテゴリを選択し「▶ クイズを始める」をクリック | 選択したカテゴリのみから出題される |
| データがないカテゴリを選択し「▶ クイズを始める」をクリック | 「このカテゴリにはデータがありません。」アラートが表示される |

### 回答
| 操作 | 期待される動作 |
|------|---------------|
| 正しい年号を入力し「答える」をクリック | 「正解！」と表示される |
| 間違った年号を入力し「答える」をクリック | 「不正解！ 正解は○○年です。」と表示される |
| 空欄のまま「答える」をクリック | 「年号を入力してください。」と表示される |
| 数字以外を入力し「答える」をクリック | 「数字で入力してください。」と表示される |
| 回答入力欄でEnterキーを押す | 回答がチェックされる |
| 正解時 | 入力欄が緑色に一瞬光る |
| 不正解時 | 入力欄が赤色に一瞬光る |

### 履歴
| 操作 | 期待される動作 |
|------|---------------|
| 回答後 | 解答履歴に追加される（新しいものが上） |
| 正解した問題 | 緑色で表示される |
| 不正解した問題 | 赤色で表示される |

### クイズ終了
| 操作 | 期待される動作 |
|------|---------------|
| 「終了」ボタンをクリック | 確認ダイアログが表示される |
| 確認ダイアログで「OK」をクリック | クイズが終了し、途中までの正解数が表示される |
| 全問回答後 | 「クイズ終了！」と正解数が表示される |
| 「もう一度クイズ」をクリック | 確認ダイアログが表示される |
| 確認ダイアログで「OK」をクリック | クイズがリスタートされる |

## モード切り替え

| 操作 | 期待される動作 |
|------|---------------|
| 「入力モード」ボタンをクリック | 入力モード画面が表示される |
| 「クイズモード」ボタンをクリック | クイズモード画面が表示される |
| 現在のモードのボタン | アクティブ状態（色が変わる）で表示される |

## Local Storage

| 操作 | 期待される動作 |
|------|---------------|
| データを追加 | Local Storageに保存される |
| データを削除 | Local Storageから削除される |
| ページを再読み込み | ユーザー追加データが復元される |
| ブラウザを閉じて再度開く | ユーザー追加データが復元される |

