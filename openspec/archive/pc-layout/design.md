# Design: PC版レイアウト刷新

## 画面構成

### 1. 共通ヘッダー
```
┌─────────────────────────────────────────────────────────────────┐
│  [ロゴ] 年号一問一答    [入力モード] [クイズモード]             │
└─────────────────────────────────────────────────────────────────┘
```
- 現在のApple風デザインを維持
- モードボタンは右寄せ

---

### 2. クイズモード

#### 2-1. クイズ選択画面
```
┌─────────────────────────────────────────────────────────────────┐
│  クイズを選ぶ                                                   │
│                                                                 │
│  ┌─────────────┐ ┌─────────────┐ ┌─────────────┐               │
│  │ [画像]     │ │ [画像]     │ │ [画像]     │               │
│  │            │ │            │ │            │               │
│  ├────────────┤ ├────────────┤ ├────────────┤               │
│  │古代オリエン│ │イスラーム  │ │中世ヨーロッ│               │
│  │ト・地中海  │ │世界        │ │パ          │               │
│  │    12問    │ │    8問     │ │    15問    │               │
│  └─────────────┘ └─────────────┘ └─────────────┘               │
│                                                                 │
│  ┌─────────────┐ ┌─────────────┐ ┌─────────────┐               │
│  │ [画像]     │ │ [画像]     │ │ [画像]     │               │
│  ├────────────┤ ├────────────┤ ├────────────┤               │
│  │近代ヨーロッ│ │現代世界史1 │ │現代世界史2 │               │
│  │パ   10問   │ │    20問    │ │    18問    │               │
│  └─────────────┘ └─────────────┘ └─────────────┘               │
│                                                                 │
│  ┌──────────────────────────────────────────────────────────┐  │
│  │  [画像] 全カテゴリ（83問）                               │  │
│  └──────────────────────────────────────────────────────────┘  │
└─────────────────────────────────────────────────────────────────┘
```

**カードコンポーネント仕様:**
- サイズ: 200px × 220px（3カラムグリッド）
- 角丸: 16px
- 構成: 上部に画像（16:9）、下部にテキスト情報
- ホバー: scale(1.02) + shadow増加
- 内容: カテゴリ画像、カテゴリ名、問題数

**全カテゴリカード:**
- 幅: 100%
- 高さ: 100px
- 左に画像（正方形）、右にテキスト
- 特別な強調（アクセントカラーボーダー）

**カテゴリ画像:**
- 各カテゴリに代表的な歴史画像を使用
- 画像がない場合: カテゴリカラーのグラデーション背景
- 保存先: `app/images/categories/`

---

#### 2-2. クイズ解答画面
```
┌─────────────────────────────────────────────────────────────────┐
│  [← 選択に戻る]  古代オリエント・地中海世界                     │
│                                                                 │
│  ┌──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┐   5/12問  正答率 80%   │
│  │✓ │✓ │✓ │✗ │✓ │● │○ │○ │○ │○ │○ │○ │                       │
│  └──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┘                       │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌────────────────────────────────────┐  ┌──────────────────┐  │
│  │                                    │  │                  │  │
│  │                                    │  │  解答履歴        │  │
│  │         [大きな画像]               │  │                  │  │
│  │                                    │  │  ✓ 紀元前334年  │  │
│  │                                    │  │  ✓ 紀元前30年   │  │
│  │                                    │  │  ✗ 476年        │  │
│  └────────────────────────────────────┘  │  ✓ 紀元前509年  │  │
│                                          │                  │  │
│  📷 アレクサンドロス大王の東方遠征図     └──────────────────┘  │
│                                                                 │
│  ┌──────────────────────────────────────────────────────────┐  │
│  │  アレクサンドロス大王がペルシア帝国を滅ぼし、            │  │
│  │  東方遠征を開始した。                                    │  │
│  └──────────────────────────────────────────────────────────┘  │
│                                                                 │
│    年号を入力  [__________] 年    [答える]    [終了]            │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

## コンポーネント詳細

### プログレスバー（セグメント式）

```css
.progress-bar {
  display: flex;
  gap: 4px;
  height: 6px;
}

.progress-segment {
  flex: 1;
  border-radius: 3px;
  transition: background-color 0.2s;
}

.progress-segment.correct { background: #22c55e; }  /* 緑 */
.progress-segment.wrong { background: #ef4444; }    /* 赤 */
.progress-segment.current { background: #2563eb; }  /* 青 */
.progress-segment.pending { background: #e5e7eb; }  /* 灰 */
```

**表示情報:**
- 現在の問題番号 / 全問題数
- 正答率（パーセント + 正解数/回答数）

---

### カテゴリカード

```css
.category-card {
  width: 200px;
  height: 160px;
  border-radius: 16px;
  padding: 20px;
  cursor: pointer;
  transition: transform 0.2s, box-shadow 0.2s;
}

.category-card:hover {
  transform: scale(1.02);
  box-shadow: 0 8px 24px rgba(0,0,0,0.12);
}
```

**カテゴリ画像一覧:**
| カテゴリ | 画像ファイル | 画像内容例 |
|----------|-------------|-----------|
| 古代オリエント・地中海世界 | ancient.jpg | ピラミッド、パルテノン神殿 |
| 東・南アジア1 | asia1.jpg | 万里の長城、仏像 |
| 東・南アジア2 | asia2.jpg | 紫禁城、タージマハル |
| イスラーム世界 | islam.jpg | モスク、アラベスク |
| 中世ヨーロッパ | medieval.jpg | 城、騎士、大聖堂 |
| 近代ヨーロッパ | early-modern.jpg | 帆船、ルネサンス絵画 |
| 現代世界史1 | modern1.jpg | 産業革命、蒸気機関車 |
| 現代世界史2 | modern2.jpg | 第一次/第二次世界大戦 |
| 現代世界史3 | modern3.jpg | 冷戦、国連 |
| 全カテゴリ | all.jpg | 世界地図、地球 |

**フォールバック（画像がない場合）:**
| カテゴリ | 背景グラデーション |
|----------|-------------------|
| 古代オリエント | #fef3c7 → #fcd34d |
| イスラーム世界 | #d1fae5 → #34d399 |
| 中世ヨーロッパ | #dbeafe → #60a5fa |
| 近代ヨーロッパ | #fce7f3 → #f472b6 |
| 現代世界史1 | #e0e7ff → #818cf8 |
| 現代世界史2 | #fee2e2 → #f87171 |
| 現代世界史3 | #f3e8ff → #a78bfa |
| 全カテゴリ | #2563eb → #3b82f6 |

---

## レイアウト（CSS Grid/Flexbox）

### クイズ選択画面
```css
.category-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 20px;
  max-width: 680px;
  margin: 0 auto;
}

.category-card-full {
  grid-column: 1 / -1;
}
```

### クイズ解答画面
```css
.quiz-layout {
  display: grid;
  grid-template-columns: 1fr 280px;
  gap: 24px;
  height: calc(100vh - 160px);
}

.quiz-main {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.quiz-image {
  flex: 1;
  min-height: 0;
  object-fit: contain;
}
```

---

## 画面遷移

```
┌──────────────┐     クリック     ┌──────────────┐
│  クイズ      │ ───────────────→ │  クイズ      │
│  選択画面    │                  │  解答画面    │
└──────────────┘                  └──────────────┘
       ↑                                │
       └────────────────────────────────┘
              [← 選択に戻る] または [終了]
```

---

## レスポンシブ対応

| 画面幅 | レイアウト |
|--------|-----------|
| 1024px以上 | PC版（本設計） |
| 768px〜1023px | 2カラム縮小版 |
| 767px以下 | モバイル版（現状維持） |

---

## 実装優先度

1. **Phase 1**: クイズ解答画面のレイアウト変更 + プログレスバー
2. **Phase 2**: クイズ選択画面（カード形式）
3. **Phase 3**: 入力モードの調整（必要に応じて）
